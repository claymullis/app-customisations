#!/usr/bin/env python

import sys, os

template="""<?xml version="1.0" ?>
<?xml-stylesheet type='text/xsl' href='interface.xsl'?>
<interface uri="http://gfxmonk.net/dist/0install/%(filename)s" xmlns="http://zero-install.sourceforge.net/2004/injector/interface">
	<name>%(name)s</name>
	<summary>___</summary>
	<description>
	___
	</description>

	<group main="___">
		<environment name="___" insert="" mode="append" />
		<implementation id="." version="0.0.1">
		</implementation>
	</group>
</interface>
"""

args = sys.argv[1:]
assert len(args) == 1, "Usage: 0template filename.xml"
path = args[0]
assert not os.path.exists(path), "Error: file already exists!"
filename = os.path.basename(path)
name = os.path.splitext(filename)[0]

with open(path, 'w') as output:
	print >> output, template % dict(name=name, filename=filename),
